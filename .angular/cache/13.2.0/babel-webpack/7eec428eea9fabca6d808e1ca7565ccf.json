{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let ApiconexaoService = /*#__PURE__*/(() => {\n  class ApiconexaoService {\n    constructor(http) {\n      this.http = http;\n      this.jwtHelper = new JwtHelperService();\n    }\n\n    obterToken() {\n      const tokenString = localStorage.getItem('access_token');\n\n      if (tokenString) {\n        const token = JSON.parse(tokenString).access_token;\n        return token;\n      }\n\n      return null;\n    }\n\n    isAuthenticated() {\n      const token = this.obterToken();\n\n      if (token) {\n        const expired = this.jwtHelper.isTokenExpired(token);\n        return !expired;\n      }\n\n      return false;\n    }\n\n    tryLogar(username, password) {\n      const params = new HttpParams().set('username', username).set('password', password).set('grant_type', \"password\");\n      const headers = {\n        \"Authorization\": \"Basic aW1zLWFuZ3VsYXItYXBwOjMzOTM0NTE0\",\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      };\n      return this.http.post(\"http://localhost:8080/oauth/token\", params.toString(), {\n        headers\n      });\n    }\n\n    encerrarSessao() {\n      localStorage.removeItem('access_token');\n    }\n\n    getUsuario() {\n      const token = this.obterToken();\n\n      if (token) {\n        const usuario = this.jwtHelper.decodeToken(token).user_name;\n        return usuario;\n      }\n\n      return null;\n    }\n\n    getRole() {\n      const token = this.obterToken();\n      var usuario;\n\n      if (token) {\n        usuario = this.jwtHelper.decodeToken(token).user_name;\n      }\n\n      return this.http.get(`http://localhost:8080/usuarios/perfil/${usuario}`);\n    }\n\n    salvarAtestado(atestado) {\n      return this.http.post('http://localhost:8080/atestados', atestado);\n    }\n\n    salvarFinanceiro(financeiro) {\n      return this.http.post('http://localhost:8080/financeiros', financeiro);\n    }\n\n    salvarPaciente(paciente) {\n      return this.http.post('http://localhost:8080/pacientes', paciente);\n    }\n\n    salvarProntuario(prontuario) {\n      return this.http.post('http://localhost:8080/prontuarios', prontuario);\n    }\n\n    salvarReceituario(receituario) {\n      return this.http.post('http://localhost:8080/receituarios', receituario);\n    }\n\n    salvarAtendimento(atendimento) {\n      return this.http.post('http://localhost:8080/atendimentos', atendimento);\n    }\n\n    salvarMedicamento(medicamento) {\n      return this.http.post('http://localhost:8080/medicamentos', medicamento);\n    }\n\n    criarUsuario(usuario) {\n      return this.http.post('http://localhost:8080/usuarios', usuario);\n    }\n\n    salvarTodosMedicamentos(medicamento) {\n      return this.http.post(\"http://localhost:8080/medicamentos/saveall\", medicamento);\n    }\n\n    getPacienteByName(nome) {\n      return this.http.post(`http://localhost:8080/pacientes/buscar-string`, nome);\n    }\n\n    getMedicamentoByName(nome) {\n      return this.http.post(`http://localhost:8080/medicamentos/buscar-string`, nome);\n    }\n\n    getProntuarioByNamePaciente(nome) {\n      return this.http.post(`http://localhost:8080/prontuarios/buscar-string`, nome);\n    }\n\n    getAllByReceituario(id) {\n      return this.http.get(`http://localhost:8080/medicamentos/recbyid/${id}`);\n    }\n\n    getAtestado() {\n      return this.http.get(\"http://localhost:8080/atestados\");\n    }\n\n    getFinanceiro() {\n      return this.http.get(\"http://localhost:8080/financeiros\");\n    }\n\n    getPaciente() {\n      return this.http.get(\"http://localhost:8080/pacientes\");\n    }\n\n    getProntuario() {\n      return this.http.get(\"http://localhost:8080/prontuarios\");\n    }\n\n    getReceituario() {\n      return this.http.get(\"http://localhost:8080/receituarios\");\n    }\n\n    getAtendimento() {\n      return this.http.get(\"http://localhost:8080/atendimentos\");\n    }\n\n    getMedicamento() {\n      return this.http.get(\"http://localhost:8080/medicamentos\");\n    }\n\n    getProntByPac(id) {\n      return this.http.get(`http://localhost:8080/prontuarios/prontbypac/${id}`);\n    }\n\n    getAtendsByPront(id) {\n      return this.http.get(`http://localhost:8080/atendimentos/buscaratendsporid/${id}`);\n    }\n\n    getAtestadoById(id) {\n      return this.http.get(`http://localhost:8080/atestados/${id}`);\n    }\n\n    getFinanceiroById(id) {\n      return this.http.get(`http://localhost:8080/financeiros/${id}`);\n    }\n\n    getPacienteById(id) {\n      return this.http.get(`http://localhost:8080/pacientes/${id}`);\n    }\n\n    getProntuarioById(id) {\n      return this.http.get(`http://localhost:8080/prontuarios/${id}`);\n    }\n\n    getReceituarioById(id) {\n      return this.http.get(`http://localhost:8080/receituarios/${id}`);\n    }\n\n    getAtendimentoById(id) {\n      return this.http.get(`http://localhost:8080/atendimentos/${id}`);\n    }\n\n    getMedicamentoById(id) {\n      return this.http.get(`http://localhost:8080/medicamentos/${id}`);\n    }\n\n    putAtestado(atestado) {\n      return this.http.put(`http://localhost:8080/atestados/${atestado.id}`, atestado);\n    }\n\n    putFinanceiro(financeiro) {\n      return this.http.put(`http://localhost:8080/financeiros/${financeiro.id}`, financeiro);\n    }\n\n    putPaciente(paciente) {\n      return this.http.put(`http://localhost:8080/pacientes/${paciente.id}`, paciente);\n    }\n\n    putProntuario(prontuario) {\n      return this.http.put(`http://localhost:8080/prontuarios/${prontuario.id}`, prontuario);\n    }\n\n    putReceituario(receituario) {\n      return this.http.put(`http://localhost:8080/receituarios/${receituario.id}`, receituario);\n    }\n\n    putAtendimento(atendimento) {\n      return this.http.put(`http://localhost:8080/atendimentos/${atendimento.id}`, atendimento);\n    }\n\n    putMedicamento(medicamento) {\n      return this.http.put(`http://localhost:8080/medicamentos/${medicamento.id}`, medicamento);\n    }\n\n    delAtestado(atestado) {\n      return this.http.delete(`http://localhost:8080/atestados/${atestado.id}`);\n    }\n\n    delFinanceiro(financeiro) {\n      return this.http.delete(`http://localhost:8080/financeiros/${financeiro.id}`);\n    }\n\n    delPaciente(paciente) {\n      return this.http.delete(`http://localhost:8080/pacientes/${paciente.id}`);\n    }\n\n    delProntuarion(prontuario) {\n      return this.http.delete(`http://localhost:8080/prontuarios/${prontuario.id}`);\n    }\n\n    delReceituario(receituario) {\n      return this.http.delete(`http://localhost:8080/receituarios/${receituario.id}`);\n    }\n\n    delAtendimento(atendimento) {\n      return this.http.delete(`http://localhost:8080/atendimentos/${atendimento.id}`);\n    }\n\n    delMedicamento(medicamento) {\n      return this.http.delete(`http://localhost:8080/medicamentos/${medicamento.id}`);\n    }\n\n    verifyAndSaveMedicamento(medicamento) {\n      return this.http.post('http://localhost:8080/medicamentos/verificaesalva', medicamento);\n    }\n\n  }\n\n  ApiconexaoService.ɵfac = function ApiconexaoService_Factory(t) {\n    return new (t || ApiconexaoService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  ApiconexaoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ApiconexaoService,\n    factory: ApiconexaoService.ɵfac,\n    providedIn: 'root'\n  });\n  return ApiconexaoService;\n})();","map":null,"metadata":{},"sourceType":"module"}